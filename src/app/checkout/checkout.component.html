<app-admin-navbar-component></app-admin-navbar-component>
<div *ngIf="!loadingReservations">
<div class="checkout-container">
    <h2>Checkout</h2>
    <form (ngSubmit)="submitInvoice()" #checkoutForm="ngForm">
        <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" id="firstName" name="firstName" [(ngModel)]="invoice.firstName" required>
        </div>

        <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" id="lastName" name="lastName" [(ngModel)]="invoice.lastName" required>
        </div>

 <!-- invoice.component.html -->

<div class="form-group">
    <label for="country">Country</label>
    <select id="country" name="country" [(ngModel)]="invoice.country" required>
      <option value="" disabled>Select a country</option>
      <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
    </select>
  </div>
  
        <div class="form-group">
            <label for="street">Street Address</label>
            <input type="text" id="street" name="street" [(ngModel)]="invoice.street" required>
        </div>

        <div class="form-group">
            <label for="city">City</label>
            <input type="text" id="city" name="city" [(ngModel)]="invoice.city" required>
        </div>

        <div class="form-group">
            <label for="state">State</label>
            <input type="text" id="state" name="state" [(ngModel)]="invoice.state" required>
        </div>

        <div class="form-group">
            <label for="codePostal">Postal Code</label>
            <input type="text" id="codePostal" name="codePostal" [(ngModel)]="invoice.codePostal" required>
        </div>

        <div class="form-group">
            <label for="number">Phone Number</label>
            <input type="text" id="number" name="number" [(ngModel)]="invoice.number" required>
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" [(ngModel)]="invoice.email" required>
        </div>
       




        <div class="cart-container">
            <h3>Your Cart</h3>
            <table class="cart-table">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngFor="let cartItem of cartItems">
                        <tr *ngIf="cartItem.haj && cartItem.haj.hajName !== null">
                            <td>haj</td>
                            <td>{{cartItem.haj.hajName}}</td>
                        </tr>
                        <tr *ngIf="cartItem.quantityAd !== null">
                            <td>Adulte</td>
                            <td>{{ cartItem.quantityAd }}</td>
                        </tr>
                        <tr *ngIf="cartItem.quantityVen !== null">
                            <td>Childs</td>
                            <td>{{ cartItem.quantityVen }}</td>
                        </tr>
                    </ng-container>
                    
                    <!-- Additional content not related to cartItem -->
                    <tr *ngIf="totalPriceCart !== 0">
                        <td>Total Price haj</td>
                        <td>{{ totalPriceCart }} €</td>
                    </tr>
                    <tr *ngIf="invoice.hotelName !== ''">
                        <td>Hotel Name:</td>
                        <td>{{ invoice.hotelName }}</td>
                    </tr>
                    <tr *ngIf="invoice.typeRoom !== ''">
                        <td>Room Type:</td>
                        <td>{{ invoice.typeRoom }}</td>
                    </tr>
                    <tr *ngIf="invoice.viewOfMakkah !== false">
                        <td>View of Makkah:</td>
                        <td>{{ invoice.viewOfMakkah }}</td>
                    </tr>
                    <tr *ngIf="invoice.numbnuit !== 0">
                        <td>Number of Nights:</td>
                        <td>{{ invoice.numbnuit }}</td>
                    </tr>
                    <tr *ngIf="invoice.numberOfAdults !== 0">
                        <td>Number of Adults:</td>
                        <td>{{ invoice.numberOfAdults }}</td>
                    </tr>
                    <tr *ngIf="invoice.numberOfChildren !== 0">
                        <td>Number of Children:</td>
                        <td>{{ invoice.numberOfChildren }}</td>
                    </tr>
                    <tr *ngIf="invoice.numberOfB !== 0">
                        <td>Number of B:</td>
                        <td>{{ invoice.numberOfB }}</td>
                    </tr>
                    <tr *ngIf="invoice.dateRes !== ''">
                        <td>Reservation Date:</td>
                        <td>{{ invoice.dateRes }}</td>
                    </tr>
                    <tr *ngIf="invoice.optionName !== ''">
                        <td>Option Name:</td>
                        <td>{{ invoice.optionName }}</td>
                    </tr>
                
                    <!-- Default message if invoice.totalPrice is null -->
                    <tr *ngIf="invoice.totalPrice">
                        <td>Total Price:</td>
                        <td>{{invoice.totalPrice}}</td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
        
        
        <div class="payment-method-container">
            <label>
                <input type="radio" id="paypal" name="paymentMethod" [(ngModel)]="invoice.paymentMethod" value="paypal" required>
                <img src="../../assets/paypal-logo-100x26.png" alt="PayPal Logo"> PayPal
            </label>
            
            <label>
                <input type="radio" id="inPerson" name="paymentMethod" [(ngModel)]="invoice.paymentMethod" value="in_person" required>
                <img src="../../assets/images.png" alt="in person"> In Person
            </label>
            
            <label>
                <input type="radio" id="transfer" name="paymentMethod" [(ngModel)]="invoice.paymentMethod" value="transfer" required>
                <img src="../../assets/téléchargement.png" alt="bank"> Bank Transfer
            </label>
        </div>
        
   
        
        
        <button type="submit" [disabled]="!checkoutForm.valid">Submit</button>
    </form>
</div>

  
 
